\hypertarget{classTCPServer}{}\doxysection{T\+C\+P\+Server Class Reference}
\label{classTCPServer}\index{TCPServer@{TCPServer}}


{\ttfamily \#include $<$tcpserver.\+h$>$}



Collaboration diagram for T\+C\+P\+Server\+:\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=172pt]{classTCPServer__coll__graph}
\end{center}
\end{figure}
\doxysubsection*{Public Types}
\begin{DoxyCompactItemize}
\item 
using \mbox{\hyperlink{classTCPServer_a8107acb4acb46cebd3001013c30f4834}{Callback}} = std\+::function$<$ bool(std\+::string const  \&request, std\+::string \&response) $>$
\end{DoxyCompactItemize}
\doxysubsection*{Public Member Functions}
\begin{DoxyCompactItemize}
\item 
\mbox{\hyperlink{classTCPServer_aaed5a80480fd9d616c7773f58906c5e7}{T\+C\+P\+Server}} (\mbox{\hyperlink{classTCPServer_a8107acb4acb46cebd3001013c30f4834}{Callback}} const \&callback)
\item 
virtual \mbox{\hyperlink{classTCPServer_abc497ac52355e53986a6a1bd1acb9581}{$\sim$\+T\+C\+P\+Server}} ()
\item 
virtual int \mbox{\hyperlink{classTCPServer_a1409041961e91f1dbc4933483b4c3b23}{run}} (int port)
\end{DoxyCompactItemize}
\doxysubsection*{Private Member Functions}
\begin{DoxyCompactItemize}
\item 
\mbox{\hyperlink{classTCPServer_a92a79bdd5f489dbeaea65b03b4e7a630}{T\+C\+P\+Server}} (\mbox{\hyperlink{classTCPServer}{T\+C\+P\+Server}} const \&)=delete
\item 
\mbox{\hyperlink{classTCPServer}{T\+C\+P\+Server}} \& \mbox{\hyperlink{classTCPServer_a06f55644273dc5a1730c602ed0a5ab08}{operator=}} (\mbox{\hyperlink{classTCPServer}{T\+C\+P\+Server}} const \&)=delete
\item 
void \mbox{\hyperlink{classTCPServer_a3dfcdb3bb20667b1d3cde93c84a4c024}{error}} (std\+::string const \&msg)
\end{DoxyCompactItemize}
\doxysubsection*{Private Attributes}
\begin{DoxyCompactItemize}
\item 
\mbox{\hyperlink{classServerSocket}{Server\+Socket}} \mbox{\hyperlink{classTCPServer_a3c61133d29aae2cb2b8a0d0b8b7dadaf}{servsock\+\_\+}}
\item 
\mbox{\hyperlink{classTCPServer_a8107acb4acb46cebd3001013c30f4834}{Callback}} \mbox{\hyperlink{classTCPServer_a09d0401db192e78acbc9468945ccc00c}{callback\+\_\+}} \{\}
\end{DoxyCompactItemize}
\doxysubsection*{Friends}
\begin{DoxyCompactItemize}
\item 
class \mbox{\hyperlink{classTCPServer_a94abdeb80587f39a869fde6f24522a78}{T\+C\+P\+Lock}}
\item 
class \mbox{\hyperlink{classTCPServer_aff1ba1873083d214cbcb808b8091757a}{Socket\+Cnx}}
\end{DoxyCompactItemize}


\doxysubsection{Detailed Description}
T\+C\+P/\+IP I\+Pv4 server. Supports T\+C\+P/\+IP A\+F\+\_\+\+I\+N\+ET I\+Pv4 connections with multiple clients. One thread is used per client. 

\doxysubsection{Member Typedef Documentation}
\mbox{\Hypertarget{classTCPServer_a8107acb4acb46cebd3001013c30f4834}\label{classTCPServer_a8107acb4acb46cebd3001013c30f4834}} 
\index{TCPServer@{TCPServer}!Callback@{Callback}}
\index{Callback@{Callback}!TCPServer@{TCPServer}}
\doxysubsubsection{\texorpdfstring{Callback}{Callback}}
{\footnotesize\ttfamily using \mbox{\hyperlink{classTCPServer_a8107acb4acb46cebd3001013c30f4834}{T\+C\+P\+Server\+::\+Callback}} =  std\+::function$<$ bool(std\+::string const\& request, std\+::string\& response) $>$}



\doxysubsection{Constructor \& Destructor Documentation}
\mbox{\Hypertarget{classTCPServer_aaed5a80480fd9d616c7773f58906c5e7}\label{classTCPServer_aaed5a80480fd9d616c7773f58906c5e7}} 
\index{TCPServer@{TCPServer}!TCPServer@{TCPServer}}
\index{TCPServer@{TCPServer}!TCPServer@{TCPServer}}
\doxysubsubsection{\texorpdfstring{TCPServer()}{TCPServer()}\hspace{0.1cm}{\footnotesize\ttfamily [1/2]}}
{\footnotesize\ttfamily T\+C\+P\+Server\+::\+T\+C\+P\+Server (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{classTCPServer_a8107acb4acb46cebd3001013c30f4834}{Callback}} const \&}]{callback }\end{DoxyParamCaption})}

initializes the server. The callback function will be called each time the server receives a request from a client.
\begin{DoxyItemize}
\item {\itshape request} contains the data sent by the client
\item {\itshape response} will be sent to the client as a response The connection with the client is closed if the callback returns false. 
\end{DoxyItemize}\mbox{\Hypertarget{classTCPServer_abc497ac52355e53986a6a1bd1acb9581}\label{classTCPServer_abc497ac52355e53986a6a1bd1acb9581}} 
\index{TCPServer@{TCPServer}!````~TCPServer@{$\sim$TCPServer}}
\index{````~TCPServer@{$\sim$TCPServer}!TCPServer@{TCPServer}}
\doxysubsubsection{\texorpdfstring{$\sim$TCPServer()}{~TCPServer()}}
{\footnotesize\ttfamily T\+C\+P\+Server\+::$\sim$\+T\+C\+P\+Server (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [virtual]}}

\mbox{\Hypertarget{classTCPServer_a92a79bdd5f489dbeaea65b03b4e7a630}\label{classTCPServer_a92a79bdd5f489dbeaea65b03b4e7a630}} 
\index{TCPServer@{TCPServer}!TCPServer@{TCPServer}}
\index{TCPServer@{TCPServer}!TCPServer@{TCPServer}}
\doxysubsubsection{\texorpdfstring{TCPServer()}{TCPServer()}\hspace{0.1cm}{\footnotesize\ttfamily [2/2]}}
{\footnotesize\ttfamily T\+C\+P\+Server\+::\+T\+C\+P\+Server (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{classTCPServer}{T\+C\+P\+Server}} const \&}]{ }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [private]}, {\ttfamily [delete]}}



\doxysubsection{Member Function Documentation}
\mbox{\Hypertarget{classTCPServer_a3dfcdb3bb20667b1d3cde93c84a4c024}\label{classTCPServer_a3dfcdb3bb20667b1d3cde93c84a4c024}} 
\index{TCPServer@{TCPServer}!error@{error}}
\index{error@{error}!TCPServer@{TCPServer}}
\doxysubsubsection{\texorpdfstring{error()}{error()}}
{\footnotesize\ttfamily void T\+C\+P\+Server\+::error (\begin{DoxyParamCaption}\item[{std\+::string const \&}]{msg }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [private]}}

\mbox{\Hypertarget{classTCPServer_a06f55644273dc5a1730c602ed0a5ab08}\label{classTCPServer_a06f55644273dc5a1730c602ed0a5ab08}} 
\index{TCPServer@{TCPServer}!operator=@{operator=}}
\index{operator=@{operator=}!TCPServer@{TCPServer}}
\doxysubsubsection{\texorpdfstring{operator=()}{operator=()}}
{\footnotesize\ttfamily \mbox{\hyperlink{classTCPServer}{T\+C\+P\+Server}}\& T\+C\+P\+Server\+::operator= (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{classTCPServer}{T\+C\+P\+Server}} const \&}]{ }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [private]}, {\ttfamily [delete]}}

\mbox{\Hypertarget{classTCPServer_a1409041961e91f1dbc4933483b4c3b23}\label{classTCPServer_a1409041961e91f1dbc4933483b4c3b23}} 
\index{TCPServer@{TCPServer}!run@{run}}
\index{run@{run}!TCPServer@{TCPServer}}
\doxysubsubsection{\texorpdfstring{run()}{run()}}
{\footnotesize\ttfamily int T\+C\+P\+Server\+::run (\begin{DoxyParamCaption}\item[{int}]{port }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [virtual]}}

Starts the server. Binds an internal \mbox{\hyperlink{classServerSocket}{Server\+Socket}} to {\itshape port} then starts an infinite loop that processes connection requests from clients. \begin{DoxyReturn}{Returns}
0 on normal termination, or a negative value if the \mbox{\hyperlink{classServerSocket}{Server\+Socket}} could not be bound (value is then one of \mbox{\hyperlink{classSocket_a9f68308228badcdd299cd83e62e36976}{Socket\+::\+Errors}}). 
\end{DoxyReturn}


\doxysubsection{Friends And Related Function Documentation}
\mbox{\Hypertarget{classTCPServer_aff1ba1873083d214cbcb808b8091757a}\label{classTCPServer_aff1ba1873083d214cbcb808b8091757a}} 
\index{TCPServer@{TCPServer}!SocketCnx@{SocketCnx}}
\index{SocketCnx@{SocketCnx}!TCPServer@{TCPServer}}
\doxysubsubsection{\texorpdfstring{SocketCnx}{SocketCnx}}
{\footnotesize\ttfamily friend class \mbox{\hyperlink{classSocketCnx}{Socket\+Cnx}}\hspace{0.3cm}{\ttfamily [friend]}}

\mbox{\Hypertarget{classTCPServer_a94abdeb80587f39a869fde6f24522a78}\label{classTCPServer_a94abdeb80587f39a869fde6f24522a78}} 
\index{TCPServer@{TCPServer}!TCPLock@{TCPLock}}
\index{TCPLock@{TCPLock}!TCPServer@{TCPServer}}
\doxysubsubsection{\texorpdfstring{TCPLock}{TCPLock}}
{\footnotesize\ttfamily friend class T\+C\+P\+Lock\hspace{0.3cm}{\ttfamily [friend]}}



\doxysubsection{Member Data Documentation}
\mbox{\Hypertarget{classTCPServer_a09d0401db192e78acbc9468945ccc00c}\label{classTCPServer_a09d0401db192e78acbc9468945ccc00c}} 
\index{TCPServer@{TCPServer}!callback\_@{callback\_}}
\index{callback\_@{callback\_}!TCPServer@{TCPServer}}
\doxysubsubsection{\texorpdfstring{callback\_}{callback\_}}
{\footnotesize\ttfamily \mbox{\hyperlink{classTCPServer_a8107acb4acb46cebd3001013c30f4834}{Callback}} T\+C\+P\+Server\+::callback\+\_\+ \{\}\hspace{0.3cm}{\ttfamily [private]}}

\mbox{\Hypertarget{classTCPServer_a3c61133d29aae2cb2b8a0d0b8b7dadaf}\label{classTCPServer_a3c61133d29aae2cb2b8a0d0b8b7dadaf}} 
\index{TCPServer@{TCPServer}!servsock\_@{servsock\_}}
\index{servsock\_@{servsock\_}!TCPServer@{TCPServer}}
\doxysubsubsection{\texorpdfstring{servsock\_}{servsock\_}}
{\footnotesize\ttfamily \mbox{\hyperlink{classServerSocket}{Server\+Socket}} T\+C\+P\+Server\+::servsock\+\_\+\hspace{0.3cm}{\ttfamily [private]}}



The documentation for this class was generated from the following files\+:\begin{DoxyCompactItemize}
\item 
\mbox{\hyperlink{tcpserver_8h}{tcpserver.\+h}}\item 
\mbox{\hyperlink{tcpserver_8cpp}{tcpserver.\+cpp}}\end{DoxyCompactItemize}
